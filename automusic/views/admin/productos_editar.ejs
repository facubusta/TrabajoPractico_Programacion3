<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Admin â€” Editar producto</title>
    <link rel="stylesheet" href="/css/admin.css" />
    <style>
      .form-card{max-width:640px;margin:20px 0;background:#171717;border:1px solid #222;border-radius:12px;padding:16px;}
      .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
      .row .full{grid-column:1 / -1}
      label{display:block;margin-bottom:6px;color:#eaeaea}
      input[type="text"],input[type="number"]{
        width:100%;padding:10px;border-radius:10px;border:1px solid #333;background:#111;color:#eee;
      }
      .actions{display:flex;gap:10px;margin-top:14px}
      .btn{background:#e50914;color:#fff;border:none;padding:10px 12px;border-radius:10px;font-weight:600;cursor:pointer;text-decoration:none;display:inline-block}
      .btn.secondary{background:#303030}
      .error{color:#ff7b7b;margin-top:8px}
      .checkbox{display:flex;align-items:center;gap:8px;margin-top:8px;color:#ddd}
      .muted{color:#a0a0a0}
    </style>
  </head>
  <body>
    <header class="admin-header">
      <h1>Editar producto</h1>
      <p class="muted">ID: <%= product.id %></p>
    </header>

    <nav class="admin-nav">
      <a href="/admin">Inicio</a>
      <a href="/admin/productos">Productos</a>
      <a href="/admin/ventas">Ventas</a>
      <a href="/logout">Salir</a>
    </nav>

    <main class="admin-main">
      <section class="form-card">
        <form action="/admin/productos/<%= product.id %>/editar" method="POST" novalidate>
          <div class="row">
            <div class="full">
              <label for="name">Nombre *</label>
              <input id="name" name="name" type="text" value="<%= product.name ?? product.nombre ?? '' %>" required />
            </div>

            <div>
              <label for="type">Tipo</label>
              <input id="type" name="type" type="text" value="<%= product.type ?? product.tipo ?? '' %>" />
            </div>

            <div>
              <label for="price">Precio *</label>
              <input id="price" name="price" type="number" step="0.01" value="<%= (product.price ?? product.precio) ?? '' %>" required />
            </div>

            <div class="full checkbox">
              <input id="active" name="active" type="checkbox"
                     <%= ((product.active ?? product.activo) ? 'checked' : '') %> />
              <label for="active">Activo</label>
            </div>
          </div>

          <% if (error) { %>
            <div class="error"><%= error %></div>
          <% } %>

          <div class="actions">
            <button class="btn" type="submit">Guardar cambios</button>
            <a class="btn secondary" href="/admin/productos">Cancelar</a>
          </div>
        </form>
      </section>
    </main>
  </body>
</html>
